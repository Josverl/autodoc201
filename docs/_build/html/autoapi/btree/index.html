<!DOCTYPE html>

<html data-content_root="../../" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>btree — API documentation test 1 documentation</title>
<link href="../../_static/pygments.css?v=fa44fd50" rel="stylesheet" type="text/css"/>
<link href="../../_static/alabaster.css?v=12dfc556" rel="stylesheet" type="text/css"/>
<link href="../../_static/graphviz.css?v=fd3f3429" rel="stylesheet" type="text/css"/>
<script src="../../_static/documentation_options.js?v=29a6c3e3"></script>
<script src="../../_static/doctools.js?v=9a2dae69"></script>
<script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="../cmath/index.html" rel="next" title="cmath"/>
<link href="../bluetooth/index.html" rel="prev" title="bluetooth"/>
<link href="../../_static/custom.css" rel="stylesheet" type="text/css"/>
</head><body>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<section id="module-btree">
<span id="btree"></span><h1>btree<a class="headerlink" href="#module-btree" title="Link to this heading">¶</a></h1>
<p>Simple BTree database.</p>
<p>MicroPython module: <a class="reference external" href="https://docs.micropython.org/en/v1.23.0/library/btree.html">https://docs.micropython.org/en/v1.23.0/library/btree.html</a></p>
<p>The <code class="docutils literal notranslate"><span class="pre">btree</span></code> module implements a simple key-value database using external
storage (disk files, or in general case, a random-access <a class="reference external" href="https://docs.micropython.org/en/latest/reference/glossary.html#term-stream" title="(in MicroPython vlatest)"><code class="xref any docutils literal notranslate"><span class="pre">stream</span></code></a>). Keys are
stored sorted in the database, and besides efficient retrieval by a key
value, a database also supports efficient ordered range scans (retrieval
of values with the keys in a given range). On the application interface
side, BTree database work as close a possible to a way standard <a class="reference internal" href="../pyb/Pin/index.html#pyb.Pin.Pin.dict" title="pyb.Pin.Pin.dict"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">dict</span></code></a>
type works, one notable difference is that both keys and values must
be <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)"><code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code></a>-like objects (so, if you want to store objects of other types, you
need to first serialize them to <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref any docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)"><code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code></a> or another type that supports
the buffer protocol).</p>
<p>The module is based on the well-known BerkelyDB library, version 1.xx.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">btree</span>

<span class="c1"># First, we need to open a stream which holds a database</span>
<span class="c1"># This is usually a file, but can be in-memory database</span>
<span class="c1"># using io.BytesIO, a raw flash partition, etc.</span>
<span class="c1"># Oftentimes, you want to create a database file if it doesn't</span>
<span class="c1"># exist and open if it exists. Idiom below takes care of this.</span>
<span class="c1"># DO NOT open database with "a+b" access mode.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"mydb"</span><span class="p">,</span> <span class="s2">"r+b"</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"mydb"</span><span class="p">,</span> <span class="s2">"w+b"</span><span class="p">)</span>

<span class="c1"># Now open a database itself</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">btree</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># The keys you add will be sorted internally in the database</span>
<span class="n">db</span><span class="p">[</span><span class="sa">b</span><span class="s2">"3"</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"three"</span>
<span class="n">db</span><span class="p">[</span><span class="sa">b</span><span class="s2">"1"</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"one"</span>
<span class="n">db</span><span class="p">[</span><span class="sa">b</span><span class="s2">"2"</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"two"</span>

<span class="c1"># Assume that any changes are cached in memory unless</span>
<span class="c1"># explicitly flushed (or database closed). Flush database</span>
<span class="c1"># at the end of each "transaction".</span>
<span class="n">db</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

<span class="c1"># Prints b'two'</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="p">[</span><span class="sa">b</span><span class="s2">"2"</span><span class="p">])</span>

<span class="c1"># Iterate over sorted keys in the database, starting from b"2"</span>
<span class="c1"># until the end of the database, returning only values.</span>
<span class="c1"># Mind that arguments passed to values() method are *key* values.</span>
<span class="c1"># Prints:</span>
<span class="c1">#   b'two'</span>
<span class="c1">#   b'three'</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="sa">b</span><span class="s2">"2"</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

<span class="k">del</span> <span class="n">db</span><span class="p">[</span><span class="sa">b</span><span class="s2">"2"</span><span class="p">]</span>

<span class="c1"># No longer true, prints False</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">b</span><span class="s2">"2"</span> <span class="ow">in</span> <span class="n">db</span><span class="p">)</span>

<span class="c1"># Prints:</span>
<span class="c1">#  b"1"</span>
<span class="c1">#  b"3"</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">db</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Don't forget to close the underlying stream!</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#btree.DESC" title="btree.DESC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DESC</span></code></a></p></td>
<td><p>A flag for <a class="reference internal" href="#btree.btree.keys" title="btree.btree.keys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">keys()</span></code></a>, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>, <a class="reference internal" href="#btree.btree.items" title="btree.btree.items"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> methods to specify that</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#btree.INCL" title="btree.INCL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">INCL</span></code></a></p></td>
<td><p>A flag for <a class="reference internal" href="#btree.btree.keys" title="btree.btree.keys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">keys()</span></code></a>, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>, <a class="reference internal" href="#btree.btree.items" title="btree.btree.items"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> methods to specify that</p></td>
</tr>
</tbody>
</table>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#btree.btree" title="btree.btree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">btree</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#btree.open" title="btree.open"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open</span></code></a>(→ Dict)</p></td>
<td><p>Open a database from a random-access <a class="reference external" href="https://docs.micropython.org/en/latest/reference/glossary.html#term-stream" title="(in MicroPython vlatest)"><code class="xref any docutils literal notranslate"><span class="pre">stream</span></code></a> (like an open file). All</p></td>
</tr>
</tbody>
</table>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="btree.btree">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">btree.</span></span><span class="sig-name descname"><span class="pre">btree</span></span><a class="headerlink" href="#btree.btree" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="btree.btree.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.__contains__" title="Link to this definition">¶</a></dt>
<dd><p>Standard dictionary methods.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.__delitem__" title="Link to this definition">¶</a></dt>
<dd><p>Standard dictionary methods.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.__getitem__" title="Link to this definition">¶</a></dt>
<dd><p>Standard dictionary methods.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.__iter__" title="Link to this definition">¶</a></dt>
<dd><p>A BTree object can be iterated over directly (similar to a dictionary)
to get access to all keys in order.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.__setitem__" title="Link to this definition">¶</a></dt>
<dd><p>Standard dictionary methods.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#btree.btree.close" title="Link to this definition">¶</a></dt>
<dd><p>Close the database. It’s mandatory to close the database at the end of
processing, as some unwritten data may be still in the cache. Note that
this does not close underlying stream with which the database was opened,
it should be closed separately (which is also mandatory to make sure that
data flushed from buffer to the underlying storage).</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.flush" title="Link to this definition">¶</a></dt>
<dd><p>Flush any data in cache to the underlying stream.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.get" title="Link to this definition">¶</a></dt>
<dd><p>Standard dictionary methods.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.items" title="Link to this definition">¶</a></dt>
<dd><p>These methods are similar to standard dictionary methods, but also can
take optional parameters to iterate over a key sub-range, instead of
the entire database. Note that for all 3 methods, <em>start_key</em> and
<em>end_key</em> arguments represent key values. For example, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>
method will iterate over values corresponding to they key range
given. None values for <em>start_key</em> means “from the first key”, no
<em>end_key</em> or its value of None means “until the end of database”.
By default, range is inclusive of <em>start_key</em> and exclusive of
<em>end_key</em>, you can include <em>end_key</em> in iteration by passing <em>flags</em>
of <a class="reference internal" href="#btree.INCL" title="btree.INCL"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.INCL</span></code></a>. You can iterate in descending key direction
by passing <em>flags</em> of <a class="reference internal" href="#btree.DESC" title="btree.DESC"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.DESC</span></code></a>. The flags values can be ORed
together.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.keys" title="Link to this definition">¶</a></dt>
<dd><p>These methods are similar to standard dictionary methods, but also can
take optional parameters to iterate over a key sub-range, instead of
the entire database. Note that for all 3 methods, <em>start_key</em> and
<em>end_key</em> arguments represent key values. For example, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>
method will iterate over values corresponding to they key range
given. None values for <em>start_key</em> means “from the first key”, no
<em>end_key</em> or its value of None means “until the end of database”.
By default, range is inclusive of <em>start_key</em> and exclusive of
<em>end_key</em>, you can include <em>end_key</em> in iteration by passing <em>flags</em>
of <a class="reference internal" href="#btree.INCL" title="btree.INCL"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.INCL</span></code></a>. You can iterate in descending key direction
by passing <em>flags</em> of <a class="reference internal" href="#btree.DESC" title="btree.DESC"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.DESC</span></code></a>. The flags values can be ORed
together.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="btree.btree.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Incomplete</span></span></span><a class="headerlink" href="#btree.btree.values" title="Link to this definition">¶</a></dt>
<dd><p>These methods are similar to standard dictionary methods, but also can
take optional parameters to iterate over a key sub-range, instead of
the entire database. Note that for all 3 methods, <em>start_key</em> and
<em>end_key</em> arguments represent key values. For example, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>
method will iterate over values corresponding to they key range
given. None values for <em>start_key</em> means “from the first key”, no
<em>end_key</em> or its value of None means “until the end of database”.
By default, range is inclusive of <em>start_key</em> and exclusive of
<em>end_key</em>, you can include <em>end_key</em> in iteration by passing <em>flags</em>
of <a class="reference internal" href="#btree.INCL" title="btree.INCL"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.INCL</span></code></a>. You can iterate in descending key direction
by passing <em>flags</em> of <a class="reference internal" href="#btree.DESC" title="btree.DESC"><code class="xref any py py-data docutils literal notranslate"><span class="pre">btree.DESC</span></code></a>. The flags values can be ORed
together.</p>
</dd></dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="btree.open">
<span class="sig-prename descclassname"><span class="pre">btree.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagesize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cachesize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minkeypage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#btree.open" title="Link to this definition">¶</a></dt>
<dd><p>Open a database from a random-access <a class="reference external" href="https://docs.micropython.org/en/latest/reference/glossary.html#term-stream" title="(in MicroPython vlatest)"><code class="xref any docutils literal notranslate"><span class="pre">stream</span></code></a> (like an open file). All
other parameters are optional and keyword-only, and allow to tweak advanced
parameters of the database operation (most users will not need them):</p>
<ul class="simple">
<li><p><em>flags</em> - Currently unused.</p></li>
<li><p><em>pagesize</em> - Page size used for the nodes in BTree. Acceptable range
is 512-65536. If 0, a port-specific default will be used, optimized for
port’s memory usage and/or performance.</p></li>
<li><p><em>cachesize</em> - Suggested memory cache size in bytes. For a
board with enough memory using larger values may improve performance.
Cache policy is as follows: entire cache is not allocated at once;
instead, accessing a new page in database will allocate a memory buffer
for it, until value specified by <em>cachesize</em> is reached. Then, these
buffers will be managed using LRU (least recently used) policy. More
buffers may still be allocated if needed (e.g., if a database contains
big keys and/or values). Allocated cache buffers aren’t reclaimed.</p></li>
<li><p><em>minkeypage</em> - Minimum number of keys to store per page. Default value
of 0 equivalent to 2.</p></li>
</ul>
<p>Returns a BTree object, which implements a dictionary protocol (set
of methods), and some additional methods described below.</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="btree.DESC">
<span class="sig-prename descclassname"><span class="pre">btree.</span></span><span class="sig-name descname"><span class="pre">DESC</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Incomplete</span></em><a class="headerlink" href="#btree.DESC" title="Link to this definition">¶</a></dt>
<dd><p>A flag for <a class="reference internal" href="#btree.btree.keys" title="btree.btree.keys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">keys()</span></code></a>, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>, <a class="reference internal" href="#btree.btree.items" title="btree.btree.items"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> methods to specify that
scanning should be in descending direction of keys.</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="btree.INCL">
<span class="sig-prename descclassname"><span class="pre">btree.</span></span><span class="sig-name descname"><span class="pre">INCL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Incomplete</span></em><a class="headerlink" href="#btree.INCL" title="Link to this definition">¶</a></dt>
<dd><p>A flag for <a class="reference internal" href="#btree.btree.keys" title="btree.btree.keys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">keys()</span></code></a>, <a class="reference internal" href="#btree.btree.values" title="btree.btree.values"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a>, <a class="reference internal" href="#btree.btree.items" title="btree.btree.items"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">items()</span></code></a> methods to specify that
scanning should be inclusive of the end key.</p>
</dd></dl>
</section>
</section>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">API documentation test</a></h1>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../library/index.html">LiBrary!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bar.html">bar</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MicroPython Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../_asyncio/index.html">_asyncio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_boot/index.html">_boot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_boot_fat/index.html">_boot_fat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_onewire/index.html">_onewire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_rp2/index.html">_rp2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_thread/index.html">_thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../array/index.html">array</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asyncio/index.html">asyncio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binascii/index.html">binascii</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">bluetooth</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">btree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-contents">Package Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#btree.btree"><code class="docutils literal notranslate"><span class="pre">btree</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.__contains__"><code class="docutils literal notranslate"><span class="pre">btree.__contains__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.__delitem__"><code class="docutils literal notranslate"><span class="pre">btree.__delitem__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.__getitem__"><code class="docutils literal notranslate"><span class="pre">btree.__getitem__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.__iter__"><code class="docutils literal notranslate"><span class="pre">btree.__iter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.__setitem__"><code class="docutils literal notranslate"><span class="pre">btree.__setitem__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.close"><code class="docutils literal notranslate"><span class="pre">btree.close()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.flush"><code class="docutils literal notranslate"><span class="pre">btree.flush()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.get"><code class="docutils literal notranslate"><span class="pre">btree.get()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.items"><code class="docutils literal notranslate"><span class="pre">btree.items()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.keys"><code class="docutils literal notranslate"><span class="pre">btree.keys()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#btree.btree.values"><code class="docutils literal notranslate"><span class="pre">btree.values()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#btree.open"><code class="docutils literal notranslate"><span class="pre">open()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#btree.DESC"><code class="docutils literal notranslate"><span class="pre">DESC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#btree.INCL"><code class="docutils literal notranslate"><span class="pre">INCL</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cmath/index.html">cmath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collections/index.html">collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cryptolib/index.html">cryptolib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deflate/index.html">deflate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../errno/index.html">errno</a></li>
<li class="toctree-l2"><a class="reference internal" href="../esp/index.html">esp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../esp32/index.html">esp32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../espnow/index.html">espnow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../framebuf/index.html">framebuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gc/index.html">gc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gzip/index.html">gzip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hashlib/index.html">hashlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../heapq/index.html">heapq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io/index.html">io</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json/index.html">json</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lcd160cr/index.html">lcd160cr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../machine/index.html">machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../math/index.html">math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../micropython/index.html">micropython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../neopixel/index.html">neopixel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openamp/index.html">openamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../os/index.html">os</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platform/index.html">platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyb/index.html">pyb</a></li>
<li class="toctree-l2"><a class="reference internal" href="../random/index.html">random</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rp2/index.html">rp2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../select/index.html">select</a></li>
<li class="toctree-l2"><a class="reference internal" href="../socket/index.html">socket</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssl/index.html">ssl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stm/index.html">stm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../struct/index.html">struct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sys/index.html">sys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html">time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uctypes/index.html">uctypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vfs/index.html">vfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wipy/index.html">wipy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wm8960/index.html">wm8960</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr/index.html">zephyr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zlib/index.html">zlib</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../../index.html">Documentation overview</a><ul>
<li><a href="../index.html">MicroPython Modules</a><ul>
<li>Previous: <a href="../bluetooth/index.html" title="previous chapter">bluetooth</a></li>
<li>Next: <a href="../cmath/index.html" title="next chapter">cmath</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<search id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" autocapitalize="off" autocomplete="off" autocorrect="off" name="q" spellcheck="false" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
      ©2024, Jos Verlinde.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/autoapi/btree/index.rst.txt" rel="nofollow">Page source</a>
</div>
</body>
</html>